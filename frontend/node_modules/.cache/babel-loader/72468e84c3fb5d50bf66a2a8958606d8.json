{"ast":null,"code":"import _classCallCheck from\"/home/flavienhugs/react_/djangoWithReact/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/flavienhugs/react_/djangoWithReact/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/flavienhugs/react_/djangoWithReact/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/flavienhugs/react_/djangoWithReact/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Modal from\"./components/Modal\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={viewCompleted:false,activeItem:{title:\"\",description:\"\",completed:false},todoList:[]};_this.refreshList=function(){axios.get(\"/api/todos/\").then(function(res){return _this.setState({todoList:res.data});}).catch(function(err){return console.log(err);});};_this.toggle=function(){_this.setState({modal:!_this.state.modal});};_this.handleSubmit=function(item){_this.toggle();if(item.id){axios.put(\"/api/todos/\".concat(item.id,\"/\"),item).then(function(res){return _this.refreshList();});return;}axios.post(\"/api/todos/\",item).then(function(res){return _this.refreshList();});};_this.createItem=function(){var item={title:\"\",description:\"\",completed:false};_this.setState({activeItem:item,modal:!_this.state.modal});};_this.displayCompleted=function(status){if(status){return _this.setState({viewCompleted:true});}return _this.setState({viewCompleted:false});};_this.editItem=function(item){_this.setState({activeItem:item,modal:!_this.state.modal});};_this.handleDelete=function(item){axios.delete(\"/api/todos/\".concat(item.id,\"/\")).then(function(res){return _this.refreshList();});};_this.renderTabList=function(){return/*#__PURE__*/_jsxs(\"div\",{className:\"nav nav-tabs my-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:_this.state.viewCompleted?\"nav-link active\":\"nav-link\",onClick:function onClick(){return _this.displayCompleted(true);},children:\"Complete\"}),/*#__PURE__*/_jsx(\"button\",{className:_this.state.viewCompleted?\"nav-link\":\"nav-link active\",onClick:function onClick(){return _this.displayCompleted(false);},children:\"Incomplete\"})]});};_this.renderItems=function(){var viewCompleted=_this.state.viewCompleted;var newItems=_this.state.todoList.filter(function(item){return item.completed===viewCompleted;});return newItems.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"todo-title mr-2 \".concat(_this.state.viewCompleted?\"completed-todo\":\"\"),title:item.description,children:item.title}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary mr-2\",onClick:function onClick(){return _this.editItem(item);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-pencil\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return _this.handleDelete(item);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-remove\"})})]})]},item.id);});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.refreshList();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"main\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-white text-uppercase text-center my-4\",children:\"Todo App\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-sm-10 mx-auto p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"button\",{onClick:this.createItem,className:\"btn btn-success\",children:\"Add Task\"})}),this.renderTabList(),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush border-top-0\",children:this.renderItems()})]})})}),this.state.modal?/*#__PURE__*/_jsx(Modal,{activeItem:this.state.activeItem,toggle:this.toggle,onSave:this.handleSubmit}):null]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/flavienhugs/react_/djangoWithReact/frontend/src/App.js"],"names":["React","Component","Modal","axios","App","state","viewCompleted","activeItem","title","description","completed","todoList","refreshList","get","then","res","setState","data","catch","err","console","log","toggle","modal","handleSubmit","item","id","put","post","createItem","displayCompleted","status","editItem","handleDelete","delete","renderTabList","renderItems","newItems","filter","map"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Modal from \"./components/Modal\";\nimport axios from \"axios\";\n\nclass App extends Component {\n    state = {\n        viewCompleted: false,\n        activeItem: {\n            title: \"\",\n            description: \"\",\n            completed: false\n        },\n        todoList: []\n    };\n\n    componentDidMount() {\n        this.refreshList();\n    }\n\n    refreshList = () => {\n        axios\n            .get(\"/api/todos/\")\n            .then((res) => this.setState({ todoList: res.data }))\n            .catch((err) => console.log(err));\n    };\n\n    toggle = () => {\n        this.setState({ modal: !this.state.modal });\n    };\n\n    handleSubmit = item => {\n        this.toggle();\n        if (item.id) {\n            axios\n                .put(`/api/todos/${item.id}/`, item)\n                .then((res) => this.refreshList());\n            return;\n        }\n        axios\n            .post(\"/api/todos/\", item)\n            .then((res) => this.refreshList());\n    };\n\n    createItem = () => {\n        const item = {\n            title: \"\",\n            description: \"\",\n            completed: false\n        };\n        this.setState({\n            activeItem: item,\n            modal: !this.state.modal\n        });\n    };\n\n    displayCompleted = status => {\n        if (status) {\n            return this.setState({ viewCompleted: true });\n        }\n        return this.setState({ viewCompleted: false });\n    };\n\n    editItem = (item) => {\n        this.setState({\n            activeItem: item,\n            modal: !this.state.modal\n        });\n    };\n\n    handleDelete = (item) => {\n        axios\n            .delete(`/api/todos/${item.id}/`)\n            .then((res) => this.refreshList());\n    };\n\n    renderTabList = () => {\n        return (\n            <div className=\"nav nav-tabs my-5\">\n                <button\n                    className={\n                        this.state.viewCompleted ? \"nav-link active\" : \"nav-link\"\n                    }\n                    onClick={() => this.displayCompleted(true)}\n                >\n                    Complete\n                </button>\n                <button\n                    className={\n                        this.state.viewCompleted ? \"nav-link\" : \"nav-link active\"\n                    }\n                    onClick={() => this.displayCompleted(false)}\n                >\n                    Incomplete\n                </button>\n            </div>\n        );\n    };\n\n    renderItems = () => {\n        const { viewCompleted } = this.state;\n        const newItems = this.state.todoList.filter(\n            item => item.completed === viewCompleted\n        );\n        return newItems.map(item => (\n            <li key={item.id} className=\"list-group-item d-flex justify-content-between align-items-center\">\n                <span className={`todo-title mr-2 ${this.state.viewCompleted ? \"completed-todo\" : \"\"}`} title={item.description}>\n                    {item.title}\n                </span>\n                <span>\n                    <button\n                        className=\"btn btn-secondary mr-2\"\n                        onClick={() => this.editItem(item)}>\n                        <i className=\"fa fa-pencil\"></i>\n                    </button>\n                    <button\n                        className=\"btn btn-danger\"\n                        onClick={() => this.handleDelete(item)}>\n                        <i className=\"fa fa-remove\"></i>\n                    </button>\n                </span>\n            </li>\n        ));\n    };\n\n    render() {\n        return (\n            <main className=\"container\">\n                <h1 className=\"text-white text-uppercase text-center my-4\">Todo App</h1>\n                <div className=\"row\">\n                    <div className=\"col-md-6 col-sm-10 mx-auto p-0\">\n                        <div className=\"card p-3\">\n                            <div className=\"\">\n                                <button onClick={this.createItem} className=\"btn btn-success\">Add Task</button>\n                            </div>\n\n                            {this.renderTabList()}\n\n                            <ul className=\"list-group list-group-flush border-top-0\">\n                                {this.renderItems()}\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n                {this.state.modal ? (\n                    <Modal\n                        activeItem={this.state.activeItem}\n                        toggle={this.toggle}\n                        onSave={this.handleSubmit}\n                    />\n                ) : null}\n            </main>\n        )\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}